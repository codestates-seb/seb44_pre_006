{"ast":null,"code":"var _jsxFileName = \"/Users/jiinpark/seb44_pre_006/client/src/component/Login.js\",\n  _s = $RefreshSig$();\nimport { styled } from \"styled-components\";\nimport logoIcon from '../asset/logo-icon.png';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport GoogleButton from \"./GoogleButton\";\nimport { useRef } from 'react';\nimport axios from \"axios\";\nimport { useDispatch } from \"react-redux\";\nimport { fetchUser } from '../api/getUser';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const LoginContainer = styled.section`\nwidth: 400px;\nheight: 500px;\ndisplay: flex;\njustify-content: space-around;\nalign-items: center;\nflex-direction: column;\n> img {\n    width: 40px\n}\n`;\n_c = LoginContainer;\nexport const LoginForm = styled.div`\nheight: auto;\npadding: 20px;\ndisplay: flex;\nflex-direction: column;\njustify-content: space-around;\nbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.4);\nborder-radius: 5px;\nborder: 1px solid var(--silver-lighter);\n> button {\n    width: 300px;\n    height: 40px;\n    background-color: var(--blue-500);\n    color: white;\n    font-size: 100%;\n    border: 1px solid var(--silver-lighter);\n    border-radius: 5px;\n    margin-top: 20px;\n}\n`;\n_c2 = LoginForm;\nexport const LoginInputForm = styled.div`\ndisplay: flex;\nflex-direction: column;\nmargin-top: 10px;\n> input {\n    width: 300px;\n    height: 40px;\n    border-radius: 5px;\n    border: 1px solid var(--silver-lighter);\n}\n> h3 {\n    margin: 0;\n}\n`;\n_c3 = LoginInputForm;\nfunction Login() {\n  _s();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const nameRef = useRef(null);\n  const passwordRef = useRef(null);\n  const onLogInHandler = async () => {\n    const name = nameRef.current.value;\n    const password = passwordRef.current.value;\n    await axios.post('/users/login', {\n      password: password,\n      username: name\n    }).then(response => {\n      console.log(response);\n      localStorage.setItem(\"jwtToken\", response.headers.authorization);\n      localStorage.setItem(\"refreshToken\", response.headers.refresh);\n      dispatch(fetchUser(response.data.memberId));\n      localStorage.setItem(\"memberId\", response.data.memberId);\n      navigate('/home');\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(LoginContainer, {\n    className: \"LoginContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: logoIcon,\n      alt: \"logoIcon\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(GoogleButton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LoginForm, {\n      children: [/*#__PURE__*/_jsxDEV(LoginInputForm, {\n        className: \"LoginInputForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: nameRef,\n          id: \"nameRef\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(LoginInputForm, {\n        className: \"LoginInputForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: passwordRef,\n          id: \"passwordRef\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onLogInHandler(),\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Don\\u2019t have an account? \\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/users/sighup\",\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"g+8o25ELN+FeBWorWOQZDx0ftHs=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n_c4 = Login;\nexport default Login;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"LoginContainer\");\n$RefreshReg$(_c2, \"LoginForm\");\n$RefreshReg$(_c3, \"LoginInputForm\");\n$RefreshReg$(_c4, \"Login\");","map":{"version":3,"names":["styled","logoIcon","Link","useNavigate","GoogleButton","useRef","axios","useDispatch","fetchUser","jsxDEV","_jsxDEV","LoginContainer","section","_c","LoginForm","div","_c2","LoginInputForm","_c3","Login","_s","dispatch","navigate","nameRef","passwordRef","onLogInHandler","name","current","value","password","post","username","then","response","console","log","localStorage","setItem","headers","authorization","refresh","data","memberId","catch","err","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","ref","id","onClick","to","_c4","$RefreshReg$"],"sources":["/Users/jiinpark/seb44_pre_006/client/src/component/Login.js"],"sourcesContent":["import { styled } from \"styled-components\";\nimport logoIcon from '../asset/logo-icon.png'\nimport { Link , useNavigate} from \"react-router-dom\";\nimport GoogleButton from \"./GoogleButton\";\nimport { useRef } from 'react';\nimport axios from \"axios\";\nimport { useDispatch } from \"react-redux\";\nimport {fetchUser} from '../api/getUser'\n\n\nexport const LoginContainer = styled.section`\nwidth: 400px;\nheight: 500px;\ndisplay: flex;\njustify-content: space-around;\nalign-items: center;\nflex-direction: column;\n> img {\n    width: 40px\n}\n`\nexport const LoginForm = styled.div`\nheight: auto;\npadding: 20px;\ndisplay: flex;\nflex-direction: column;\njustify-content: space-around;\nbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.4);\nborder-radius: 5px;\nborder: 1px solid var(--silver-lighter);\n> button {\n    width: 300px;\n    height: 40px;\n    background-color: var(--blue-500);\n    color: white;\n    font-size: 100%;\n    border: 1px solid var(--silver-lighter);\n    border-radius: 5px;\n    margin-top: 20px;\n}\n`\nexport const LoginInputForm = styled.div`\ndisplay: flex;\nflex-direction: column;\nmargin-top: 10px;\n> input {\n    width: 300px;\n    height: 40px;\n    border-radius: 5px;\n    border: 1px solid var(--silver-lighter);\n}\n> h3 {\n    margin: 0;\n}\n`\n\nfunction Login () {\n\n    const dispatch = useDispatch()\n    const navigate = useNavigate();\n    const nameRef = useRef(null);\n    const passwordRef = useRef(null);\n    \n\n    const onLogInHandler = async () => {\n        const name = nameRef.current.value;\n        const password = passwordRef.current.value;\n\n        await axios\n            .post('/users/login', {  password: password, username: name })\n            .then(response => {\n                console.log(response);\n                localStorage.setItem(\"jwtToken\", response.headers.authorization);\n                localStorage.setItem(\"refreshToken\", response.headers.refresh);\n                dispatch(fetchUser(response.data.memberId))\n                localStorage.setItem(\"memberId\", response.data.memberId)\n                navigate('/home')\n            })\n            .catch(err => {\n                console.log(err);\n            });\n    }\n    return(\n        <LoginContainer className=\"LoginContainer\">\n            <img src={logoIcon} alt='logoIcon'/>\n            <GoogleButton/>\n            <LoginForm>\n                <LoginInputForm className=\"LoginInputForm\">\n                    <h3>Email</h3>\n                    <input ref={nameRef} id='nameRef'/>\n                </LoginInputForm>\n                <LoginInputForm className=\"LoginInputForm\">\n                    <h3>Password</h3>\n                    <input ref={passwordRef} id=\"passwordRef\"/>\n                </LoginInputForm>\n                <button onClick={() => onLogInHandler()}>Log in</button>\n            </LoginForm>\n            <p>\n                Donâ€™t have an account? &nbsp; \n                <Link to='/users/sighup'>Sign up</Link>\n            </p>\n        </LoginContainer>\n    )\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}