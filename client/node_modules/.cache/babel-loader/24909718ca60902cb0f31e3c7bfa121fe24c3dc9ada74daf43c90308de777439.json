{"ast":null,"code":"import _slicedToArray from\"/Users/jiinpark/seb44_pre_006/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/jiinpark/seb44_pre_006/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import{styled}from\"styled-components\";import userNull from\"../../asset/User_null.png\";import{useSelector,useDispatch}from\"react-redux\";import{useNavigate}from\"react-router\";import{fetchAllUserData}from\"../../api/getAllUserData\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProfileContainer=styled.section(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: flex;\\n    height: 20vh;\\n    width: 100%;\\n    justify-content: space-between;\\n    \\n    > .leftDiv {\\n        display: flex;\\n        height: 100%;\\n        align-items: center;\\n        >img{\\n            height: 100%;\\n            border-radius: 20px;\\n        }\\n        > .userInfo {\\n            margin-left: 20px;\\n            & > :first-child {\\n                margin: 0;\\n                font-size: 200%;\\n                color: var(--black);\\n            }\\n            & > :last-child {\\n                margin: 0;\\n                color: var(--silver-darker);\\n        }\\n         }\\n    }\\n\\n    > .rightDiv {\\n        display: flex;\\n        align-items: start;\\n        height: 100%;\\n        >button{\\n            padding: 10px;\\n            margin-left: 20px;\\n            color: var(--white);\\n            border-radius: 5px;\\n        }\\n    }\\n\"])));export default function ProfileHeader(){var navigate=useNavigate();var dispatch=useDispatch();var path=window.location.pathname;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var memberId=path.slice(path.lastIndexOf(\"/\")+1);var localId=localStorage.getItem(\"memberId\");var admin=useSelector(function(state){return state.user.data.admin;});useEffect(function(){dispatch(fetchAllUserData()).then(function(data){return data.payload.data;}).then(function(users){return users.filter(function(user){return user.memberId==memberId;});}).then(function(data){return setUser(data[0]);});},[dispatch]);return/*#__PURE__*/_jsx(_Fragment,{children:user?/*#__PURE__*/_jsxs(ProfileContainer,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leftDiv\",children:[/*#__PURE__*/_jsx(\"img\",{src:userNull,alt:\"userNull\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"userInfo\",children:[/*#__PURE__*/_jsx(\"p\",{children:user.name}),/*#__PURE__*/_jsx(\"p\",{children:user.email})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"rightDiv\",children:localId==memberId||admin?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:'var(--blue-500)'},onClick:function onClick(){return navigate(\"/user/edit/\".concat(memberId));},children:\"Edit Profile\"}),/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:'var(--red-400)'},onClick:function onClick(){return navigate(\"/user/delete/\".concat(memberId));},children:\"Delete Profile\"})]}):/*#__PURE__*/_jsx(_Fragment,{})})]}):null});}","map":{"version":3,"names":["styled","userNull","useSelector","useDispatch","useNavigate","fetchAllUserData","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProfileContainer","section","_templateObject","_taggedTemplateLiteral","ProfileHeader","navigate","dispatch","path","window","location","pathname","_useState","_useState2","_slicedToArray","user","setUser","memberId","slice","lastIndexOf","localId","localStorage","getItem","admin","state","data","then","payload","users","filter","children","className","src","alt","name","email","style","backgroundColor","onClick","concat"],"sources":["/Users/jiinpark/seb44_pre_006/client/src/component/user/ProfileHeader.js"],"sourcesContent":["import { styled } from \"styled-components\";\nimport userNull  from \"../../asset/User_null.png\"\nimport { useSelector , useDispatch} from \"react-redux\";\nimport { useNavigate } from \"react-router\";\nimport {fetchAllUserData} from \"../../api/getAllUserData\"\nimport { useEffect , useState} from \"react\";\n\n\nconst ProfileContainer = styled.section`\n    display: flex;\n    height: 20vh;\n    width: 100%;\n    justify-content: space-between;\n    \n    > .leftDiv {\n        display: flex;\n        height: 100%;\n        align-items: center;\n        >img{\n            height: 100%;\n            border-radius: 20px;\n        }\n        > .userInfo {\n            margin-left: 20px;\n            & > :first-child {\n                margin: 0;\n                font-size: 200%;\n                color: var(--black);\n            }\n            & > :last-child {\n                margin: 0;\n                color: var(--silver-darker);\n        }\n         }\n    }\n\n    > .rightDiv {\n        display: flex;\n        align-items: start;\n        height: 100%;\n        >button{\n            padding: 10px;\n            margin-left: 20px;\n            color: var(--white);\n            border-radius: 5px;\n        }\n    }\n`\n\nexport default function ProfileHeader(){\n    const navigate = useNavigate()\n    const dispatch = useDispatch()\n    const path = window.location.pathname;\n    const [user, setUser] = useState(null)\n    const memberId = path.slice(path.lastIndexOf(\"/\") + 1);\n    const localId = localStorage.getItem(\"memberId\")\n    const admin = useSelector(state => state.user.data.admin)\n\n    useEffect(()=> {\n        dispatch(fetchAllUserData())\n        .then(data =>  data.payload.data)\n        .then(users => users.filter(user => user.memberId == memberId))\n        .then(data => setUser(data[0]))\n    },[dispatch])\n    \n    return(\n        <>\n            {user\n            ?(\n            <ProfileContainer>\n                <div className=\"leftDiv\">\n                    <img src={userNull} alt=\"userNull\"/>\n                    <div className=\"userInfo\">\n                        <p>{user.name}</p>\n                        <p>{user.email}</p>\n                    </div>\n                </div>\n                <div className=\"rightDiv\">\n                {localId == memberId || admin\n                ? (\n                <>\n                    <button style={{ backgroundColor: 'var(--blue-500)' }}  onClick={()=>navigate(`/user/edit/${memberId}`)}>Edit Profile</button>\n                    <button style={{ backgroundColor: 'var(--red-400)' }}  onClick={()=>navigate(`/user/delete/${memberId}`)}>Delete Profile</button>\n                </>)\n                :<></>}\n                </div>\n            </ProfileContainer>)\n            : null}\n\n        \n        </>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}