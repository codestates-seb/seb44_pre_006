{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/jiinpark/seb44_pre_006/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import{styled}from\"styled-components\";import SOF from\"../asset/SOF_Logo.png\";import UserNull from\"../asset/User_null.png\";import searchLogo from\"../asset/search_logo.svg\";import{useNavigate}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{resetUser}from'../store/userSlice';import{fetchSreachTitle}from\"../api/sreachTitle\";import{fetchUser}from\"../api/getUser\";import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var NavContainer=styled.header(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 50px;\\n  border: 1px solid var(--silver);\\n  border-top: 3px solid var(--orange);\\n  background-color: var(--white);\\n  display: flex;\\n  align-items: center;\\n  position: fixed;\\n  z-index: 100;\\n  > .imgDiv {\\n    height: 100%;\\n  }\\n\"])));var LogoImag=styled.img(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  margin-left: 100px;\\n  height: 100%;\\n  padding: 0 20px;\\n  &:hover {\\n    background-color: var(--black-050);\\n  }\\n\"])));var NavLink=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  color: var(--black-500);\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  padding: 0 10px;\\n  &:hover {\\n    background-color: var(--black-050);\\n  }\\n\"])));var NavSreachBar=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: white;\\n  border: 1px solid var(--silver);\\n  height: 70%;\\n  width: 700px;\\n  margin-left: 30px;\\n  border-radius: 5px;\\n\\n  > button {\\n    background: none;\\n    border: none;\\n  }\\n\\n  > input {\\n    flex-grow: 1;\\n    border: none;\\n    outline: none;\\n    font-size: 110%;\\n  }\\n\"])));var NavLogBtn=styled.button(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  height: 70%;\\n  border: 1px solid var(--silver);\\n  color: \",\";\\n  background-color: \",\";\\n  margin-left: 10px;\\n  border-radius: 5px;\\n  padding: 0px 10px;\\n  &:hover {\\n    filter: brightness(90%);\\n  }\\n\"])),function(props){return props.color;},function(props){return props.backgroundColor;});var NavUserLink=styled.img(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  height: 70%;\\n  border: 1px solid var(--silver);\\n  border: none;\\n  margin-left: 10px;\\n\"])));var AdminOn=styled.p(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  font-size: 22px;\\n  color: var(--white);\\n  height: 100%;\\n  background-color: var(--orange);\\n  padding: 10px;\\n\"])));function Nav(){var dispatch=useDispatch();var navigate=useNavigate();var user=useSelector(function(state){return state.user;});var jwtToken=localStorage.getItem(\"jwtToken\");useEffect(function(){if(user.data.email===\"\"&&jwtToken){dispatch(fetchUser(localStorage.getItem('memberId')));}},[]);var onLogOutHandler=function onLogOutHandler(){localStorage.removeItem('jwtToken');localStorage.removeItem('refreshToken');localStorage.removeItem('memberId');dispatch(resetUser());navigate('/user/login');};// 엔터 키를 누를 때 동작\nvar handleKeyPress=function handleKeyPress(event){if(event.key===\"Enter\"){var searchText=event.target.value;// 입력된 텍스트를 사용하여 필요한 동작을 수행합니다.\nevent.target.value=\"\";// 검색 이후 입력값 초기화\ndispatch(fetchSreachTitle(searchText));navigate(\"/question\");}};return/*#__PURE__*/_jsxs(NavContainer,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"imgDiv\",children:/*#__PURE__*/_jsx(LogoImag,{src:SOF,onClick:function onClick(){return navigate(\"/home\");}})}),/*#__PURE__*/_jsx(NavLink,{onClick:function onClick(){return navigate('/about');},children:\"About\"}),/*#__PURE__*/_jsxs(NavSreachBar,{children:[/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(\"img\",{src:searchLogo,alt:\"sreachLogo\"})}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search...\",onKeyPress:handleKeyPress})]}),!jwtToken?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavLogBtn,{backgroundColor:\"var(--powder-200)\",color:\"var(--powder-700)\",onClick:function onClick(){return navigate(\"/user/login\");},children:\"Log in\"}),/*#__PURE__*/_jsx(NavLogBtn,{backgroundColor:\"var(--blue-500)\",color:\"var(--blue-050)\",onClick:function onClick(){return navigate(\"/user/signup\");},children:\"Sign up\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavUserLink,{src:UserNull,onClick:function onClick(){return navigate(\"/user/\".concat(user.data.memberId));}}),/*#__PURE__*/_jsx(\"p\",{children:user.data.name}),/*#__PURE__*/_jsx(NavLogBtn,{backgroundColor:\"var(--red-400)\",color:\"var(--red-050)\",onClick:function onClick(){return navigate(\"/user/logout\");},children:\"Log out\"})]}),user.data.admin?/*#__PURE__*/_jsx(AdminOn,{children:\"Admin Mode\"}):null]});}export default Nav;","map":{"version":3,"names":["styled","SOF","UserNull","searchLogo","useNavigate","useSelector","useDispatch","resetUser","fetchSreachTitle","fetchUser","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NavContainer","header","_templateObject","_taggedTemplateLiteral","LogoImag","img","_templateObject2","NavLink","div","_templateObject3","NavSreachBar","_templateObject4","NavLogBtn","button","_templateObject5","props","color","backgroundColor","NavUserLink","_templateObject6","AdminOn","p","_templateObject7","Nav","dispatch","navigate","user","state","jwtToken","localStorage","getItem","data","email","onLogOutHandler","removeItem","handleKeyPress","event","key","searchText","target","value","children","className","src","onClick","alt","placeholder","onKeyPress","concat","memberId","name","admin"],"sources":["/Users/jiinpark/seb44_pre_006/client/src/component/Nav.js"],"sourcesContent":["import { styled } from \"styled-components\";\nimport SOF from \"../asset/SOF_Logo.png\";\nimport UserNull from \"../asset/User_null.png\";\nimport searchLogo from \"../asset/search_logo.svg\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { resetUser } from '../store/userSlice';\nimport  {fetchSreachTitle}  from \"../api/sreachTitle\";\nimport {fetchUser} from \"../api/getUser\";\nimport { useEffect } from \"react\";\n\n\nconst NavContainer = styled.header`\n  width: 100%;\n  height: 50px;\n  border: 1px solid var(--silver);\n  border-top: 3px solid var(--orange);\n  background-color: var(--white);\n  display: flex;\n  align-items: center;\n  position: fixed;\n  z-index: 100;\n  > .imgDiv {\n    height: 100%;\n  }\n`;\n\nconst LogoImag = styled.img`\n  margin-left: 100px;\n  height: 100%;\n  padding: 0 20px;\n  &:hover {\n    background-color: var(--black-050);\n  }\n`;\n\nconst NavLink = styled.div`\n  color: var(--black-500);\n  height: 100%;\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n  &:hover {\n    background-color: var(--black-050);\n  }\n`;\n\nconst NavSreachBar = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: white;\n  border: 1px solid var(--silver);\n  height: 70%;\n  width: 700px;\n  margin-left: 30px;\n  border-radius: 5px;\n\n  > button {\n    background: none;\n    border: none;\n  }\n\n  > input {\n    flex-grow: 1;\n    border: none;\n    outline: none;\n    font-size: 110%;\n  }\n`;\n\nconst NavLogBtn = styled.button`\n  height: 70%;\n  border: 1px solid var(--silver);\n  color: ${(props) => props.color};\n  background-color: ${(props) => props.backgroundColor};\n  margin-left: 10px;\n  border-radius: 5px;\n  padding: 0px 10px;\n  &:hover {\n    filter: brightness(90%);\n  }\n`;\n\nconst NavUserLink = styled.img`\n  height: 70%;\n  border: 1px solid var(--silver);\n  border: none;\n  margin-left: 10px;\n`;\n\nconst AdminOn = styled.p`\n  font-size: 22px;\n  color: var(--white);\n  height: 100%;\n  background-color: var(--orange);\n  padding: 10px;\n`;\n\nfunction Nav() {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const user = useSelector((state) => state.user);\n  const jwtToken = localStorage.getItem(\"jwtToken\");\n\n  useEffect(() => {\n    if(user.data.email === \"\" && jwtToken){\n      dispatch(fetchUser(localStorage.getItem('memberId')));\n    }\n  }\n  ,[])\n\n  const onLogOutHandler = () => {\n    localStorage.removeItem('jwtToken');\n    localStorage.removeItem('refreshToken');\n    localStorage.removeItem('memberId');\n    dispatch(resetUser());\n    navigate('/user/login');\n  };\n\n  // 엔터 키를 누를 때 동작\n  const handleKeyPress = (event) => {\n    if (event.key === \"Enter\") {\n      const searchText = event.target.value; // 입력된 텍스트를 사용하여 필요한 동작을 수행합니다.\n      event.target.value = \"\"; // 검색 이후 입력값 초기화\n      dispatch(fetchSreachTitle(searchText));\n      navigate(\"/question\");\n    }\n  };\n\n  return (\n    <NavContainer>\n      <div className=\"imgDiv\">\n        <LogoImag src={SOF} onClick={() => navigate(\"/home\")} />\n      </div>\n      <NavLink onClick={() => navigate('/about')}>About</NavLink>\n      <NavSreachBar>\n        <button>\n          <img src={searchLogo} alt=\"sreachLogo\" />\n        </button>\n        <input placeholder=\"Search...\" onKeyPress={handleKeyPress} />\n      </NavSreachBar>\n      {!jwtToken ? (\n        <>\n          <NavLogBtn\n            backgroundColor=\"var(--powder-200)\"\n            color=\"var(--powder-700)\"\n            onClick={() => navigate(\"/user/login\")}\n          >\n            Log in\n          </NavLogBtn>\n          <NavLogBtn\n            backgroundColor=\"var(--blue-500)\"\n            color=\"var(--blue-050)\"\n            onClick={() => navigate(\"/user/signup\")}\n          >\n            Sign up\n          </NavLogBtn>\n        </>\n      ) : (\n        <>\n\n          <NavUserLink\n            src={UserNull}\n            onClick={() => navigate(`/user/${user.data.memberId}`)}\n          ></NavUserLink>\n          <p>{user.data.name}</p>\n          <NavLogBtn\n            backgroundColor=\"var(--red-400)\"\n            color=\"var(--red-050)\"\n            onClick={() => navigate(\"/user/logout\")\n            }\n          >\n            Log out\n          </NavLogBtn>\n        </>\n      )}\n      {user.data.admin ? <AdminOn>Admin Mode</AdminOn> : null}\n    </NavContainer>\n  );\n}\n\nexport default Nav;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}