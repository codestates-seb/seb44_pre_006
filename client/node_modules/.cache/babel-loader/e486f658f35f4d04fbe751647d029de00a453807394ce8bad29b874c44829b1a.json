{"ast":null,"code":"import _slicedToArray from\"/Users/jiinpark/seb44_pre_006/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/jiinpark/seb44_pre_006/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import{styled}from\"styled-components\";import SideBar from\"../component/SideBar\";import{AskBtn}from\"../component/Buttons\";import{useNavigate}from\"react-router-dom\";import AskBox from\"../component/AskBox\";import AnswerBox from\"../component/AnswerBox\";import AskQuestionForm from\"../component/AskQuestionForms\";import{PostQuestionBtn}from\"../page/AskQuestion\";import{useEffect,useState}from\"react\";import{useDispatch}from\"react-redux\";import fetchGetQuestion from\"../api/getQuestion\";import displayCreatedAt from'../utils/displayCreateAt';import Loader from'../ui/Loader';import{fetchSetAnswer}from\"../api/setAnswer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  \\n\"])));var AnswertContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n  margin: 30px;\\n  \\n\"])));var AnswerHeader=styled.section(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  border-bottom: 1px solid var(--silver-darker);\\n  width: 70vw;\\n  \\n  \\n  > .topDiv{\\n    flex-grow: 1;\\n    display: flex;\\n    justify-content: space-between;\\n    >h2{\\n      margin: 0px;\\n    }\\n  }\\n  > .bottomDiv{\\n    flex-grow: 1;\\n    display: flex;\\n    > .infoBox{\\n      margin-right: 20px;\\n      display: flex;\\n      & > :first-child {\\n        color: var(--silver-darker);\\n      }\\n      & > :last-child {\\n        color: var(--black);\\n      }\\n    }\\n  }\\n\"])));var AnswerContentBody=styled.section(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n\\n\"])));var AnswerTextArea=styled.section(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  \\n\"])));function Answer(){var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),question=_useState2[0],setQuestion=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),answerContent=_useState4[0],setAnswerContent=_useState4[1];var path=window.location.pathname;var questionId=path.slice(path.lastIndexOf(\"/\")+1);var handleSubmit=function handleSubmit(){if(answerContent===\"\"){console.log(question);}else{console.log(answerContent);dispatch(fetchSetAnswer({questionId:questionId,answerContent:answerContent})).then(window.location.reload());}};useEffect(function(){dispatch(fetchGetQuestion(questionId)).then(function(data){return setQuestion(data.payload.data);});},[]);return/*#__PURE__*/_jsxs(Main,{children:[/*#__PURE__*/_jsx(SideBar,{}),question?/*#__PURE__*/_jsxs(AnswertContainer,{className:\"AnswertContainer\",children:[/*#__PURE__*/_jsxs(AnswerHeader,{className:\"AnswerHeader\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"topDiv\",children:[/*#__PURE__*/_jsx(\"h2\",{children:question.title}),/*#__PURE__*/_jsx(AskBtn,{onClick:function onClick(){return navigate('/question/ask');},children:\"Ask Question\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottomDiv\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"infoBox\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Asked  \\xA0\"}),/*#__PURE__*/_jsx(\"p\",{children:displayCreatedAt(question.createdAt)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"infoBox\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Modified  \\xA0\"}),/*#__PURE__*/_jsx(\"p\",{children:displayCreatedAt(question.modifiedAt)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"infoBox\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Viewed  \\xA0\"}),/*#__PURE__*/_jsxs(\"p\",{children:[question.viewCount,\" times\"]})]})]})]}),/*#__PURE__*/_jsxs(AnswerContentBody,{className:\"AnswerContentBody\",children:[/*#__PURE__*/_jsx(AskBox,{question:question}),/*#__PURE__*/_jsx(\"h2\",{children:\"\".concat(question.answers.length,\" Answers\")}),question.answers.map(function(answer){return/*#__PURE__*/_jsx(AnswerBox,{answer:answer},answer.answerId);})]}),/*#__PURE__*/_jsxs(AnswerTextArea,{className:\"AnswerTextArea\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Answer\"}),/*#__PURE__*/_jsx(AskQuestionForm,{setContent:setAnswerContent}),/*#__PURE__*/_jsx(PostQuestionBtn,{onClick:function onClick(){return handleSubmit();},children:\"Post your Answer\"})]})]}):/*#__PURE__*/_jsx(Loader,{})]});}export default Answer;","map":{"version":3,"names":["styled","SideBar","AskBtn","useNavigate","AskBox","AnswerBox","AskQuestionForm","PostQuestionBtn","useEffect","useState","useDispatch","fetchGetQuestion","displayCreatedAt","Loader","fetchSetAnswer","jsx","_jsx","jsxs","_jsxs","Main","div","_templateObject","_taggedTemplateLiteral","AnswertContainer","_templateObject2","AnswerHeader","section","_templateObject3","AnswerContentBody","_templateObject4","AnswerTextArea","_templateObject5","Answer","navigate","dispatch","_useState","_useState2","_slicedToArray","question","setQuestion","_useState3","_useState4","answerContent","setAnswerContent","path","window","location","pathname","questionId","slice","lastIndexOf","handleSubmit","console","log","then","reload","data","payload","children","className","title","onClick","createdAt","modifiedAt","viewCount","concat","answers","length","map","answer","answerId","setContent"],"sources":["/Users/jiinpark/seb44_pre_006/client/src/page/Answer.jsx"],"sourcesContent":["import { styled } from \"styled-components\";\nimport SideBar from \"../component/SideBar\"\nimport {AskBtn} from \"../component/Buttons\"\nimport { useNavigate } from \"react-router-dom\";\nimport AskBox from \"../component/AskBox\";\nimport AnswerBox from \"../component/AnswerBox\";\nimport AskQuestionForm from \"../component/AskQuestionForms\";\nimport {PostQuestionBtn} from \"../page/AskQuestion\";\nimport { useEffect , useState} from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport fetchGetQuestion from \"../api/getQuestion\"\nimport displayCreatedAt from '../utils/displayCreateAt';\nimport Loader from '../ui/Loader';\nimport {fetchSetAnswer} from \"../api/setAnswer\"\n\nconst Main = styled.div`\n  display: flex;\n  \n`\nconst AnswertContainer = styled.div`\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  margin: 30px;\n  \n`\nconst AnswerHeader = styled.section`\n  display: flex;\n  flex-direction: column;\n  border-bottom: 1px solid var(--silver-darker);\n  width: 70vw;\n  \n  \n  > .topDiv{\n    flex-grow: 1;\n    display: flex;\n    justify-content: space-between;\n    >h2{\n      margin: 0px;\n    }\n  }\n  > .bottomDiv{\n    flex-grow: 1;\n    display: flex;\n    > .infoBox{\n      margin-right: 20px;\n      display: flex;\n      & > :first-child {\n        color: var(--silver-darker);\n      }\n      & > :last-child {\n        color: var(--black);\n      }\n    }\n  }\n`\nconst AnswerContentBody = styled.section`\n\n`\n\nconst AnswerTextArea = styled.section`\n  \n`\n\n\nfunction Answer() {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const [question, setQuestion] = useState(null);\n  const [answerContent, setAnswerContent] = useState(\"\");\n  const path = window.location.pathname;\n  const questionId = path.slice(path.lastIndexOf(\"/\") + 1);\n\n  const handleSubmit = () => {\n    if(answerContent === \"\"){\n      console.log(question)\n    }\n    else{\n      console.log(answerContent)\n      dispatch(fetchSetAnswer({questionId , answerContent })).then(window.location.reload())\n      \n    }\n  };\n\n  useEffect(() => {\n    dispatch(fetchGetQuestion(questionId)).then(data => setQuestion(data.payload.data));\n  },[])\n  \n  return (\n    <Main>\n    <SideBar/>\n    {question\n    ? (\n    <AnswertContainer className=\"AnswertContainer\">\n      <AnswerHeader className=\"AnswerHeader\">\n        <div className=\"topDiv\">\n          <h2>{question.title}</h2>\n          <AskBtn onClick={() => navigate('/question/ask')}>Ask Question</AskBtn>\n        </div>\n        <div className=\"bottomDiv\">\n          <div className=\"infoBox\">\n            <p>Asked  &nbsp;</p>\n            <p>{displayCreatedAt(question.createdAt)}</p>  \n          </div>\n          <div className=\"infoBox\">\n            <p>Modified  &nbsp;</p>\n            <p>{displayCreatedAt(question.modifiedAt)}</p> \n          </div>\n          <div className=\"infoBox\">\n            <p>Viewed  &nbsp;</p>\n            <p>{question.viewCount} times</p> \n          </div>\n        </div>\n      </AnswerHeader>\n\n      <AnswerContentBody className=\"AnswerContentBody\">\n        <AskBox question={question}/>\n        <h2>{`${question.answers.length} Answers`}</h2>\n        {question.answers.map(answer => (\n        <AnswerBox key={answer.answerId} answer={answer}/>\n      ))}\n      </AnswerContentBody>\n\n      <AnswerTextArea className=\"AnswerTextArea\">\n        <h2>Your Answer</h2>\n        <AskQuestionForm setContent={setAnswerContent}/>\n        <PostQuestionBtn onClick={() => handleSubmit()}>\n          Post your Answer\n        </PostQuestionBtn>\n      </AnswerTextArea>\n    </AnswertContainer>\n    )\n    : <Loader />\n    }\n    </Main>\n  );\n}\n\nexport default Answer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}