{"ast":null,"code":"import _objectSpread from\"/Users/jiinpark/seb44_pre_006/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/jiinpark/seb44_pre_006/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/jiinpark/seb44_pre_006/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{useState,useEffect,useMemo}from'react';import{useSelector,useDispatch}from'react-redux';import styled from'styled-components';import SideBar from'../component/SideBar';import SearchBar from'../component/user/users/SearchBar';import UserItem from'../component/user/users/UserItem';import Pagination from'../ui/Pagination';import Loader from'../ui/Loader';import{fetchAllUser}from'../api/getAllUser';import{fetchDeleteAllUser}from'../api/AllUserDelete';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  max-width: 1264px;\\n  width: 80%;\\n  display: flex;\\n  justify-content: center;\\n\"])));var Content=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  padding: 24px 16px;\\n\"])));var Headline=styled.h1(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin: 0 0 1.5rem;\\n  font-size: 1.7rem;\\n\"])));var GridContainer=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  max-width: 1264px;\\n  width: 100%;\\n  text-align: left;\\n\"])));var UserGrid=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  display: grid;\\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\\n  gap: 1rem 1rem;\\n\"])));var DeleteBtn=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n   padding: 10px;\\n   width: 120px;\\n   height: 40px;\\n  margin-left: 20px;\\n  color: var(--white);\\n  border-radius: 5px;\\n  background-color: var(--red-600);\\n  &:hover{\\n    background-color: var(--red-300);\\n  }\\n\"])));function Users(){var _useSelector=useSelector(function(state){return state.alluser;}),status=_useSelector.status,users=_useSelector.users;var admin=useSelector(function(state){return state.user.data.admin;});var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState(10),_useState4=_slicedToArray(_useState3,2),postsPerPage=_useState4[0],setPostsPerPage=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchText=_useState6[0],setSearchText=_useState6[1];var dispatch=useDispatch();var navigate=useNavigate();useEffect(function(){dispatch(fetchAllUser({currentPage:currentPage,postsPerPage:postsPerPage}));},[dispatch,currentPage,postsPerPage]);var indexOfLastPost=useMemo(function(){return currentPage*postsPerPage;},[currentPage,postsPerPage]);var indexOfFirstPost=useMemo(function(){return indexOfLastPost-postsPerPage;},[indexOfLastPost,postsPerPage]);var currentPosts=useMemo(function(){return users.slice(indexOfFirstPost,indexOfLastPost);},[users,indexOfFirstPost,indexOfLastPost]);var filteredUsers=useMemo(function(){if(searchText.trim()===''){return currentPosts;}return currentPosts.filter(function(user){return user.name.toLowerCase().includes(searchText.toLowerCase());});},[searchText,currentPosts]);var handleSearch=function handleSearch(searchText){setSearchText(searchText);setCurrentPage(1);};var onPaginate=function onPaginate(pageNum){return setCurrentPage(pageNum);};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(SideBar,{}),/*#__PURE__*/_jsxs(Content,{children:[/*#__PURE__*/_jsx(Headline,{children:\"Users\"}),/*#__PURE__*/_jsx(SearchBar,{handleSearch:handleSearch,searchText:searchText,setSearchText:setSearchText,children:\"searchBar\"}),admin?/*#__PURE__*/_jsx(DeleteBtn,{onClick:function onClick(){dispatch(fetchDeleteAllUser());localStorage.removeItem('jwtToken');localStorage.removeItem('refreshToken');localStorage.removeItem('memberId');navigate('/');},children:\"User All Delete\"}):null,/*#__PURE__*/_jsx(GridContainer,{children:/*#__PURE__*/_jsxs(UserGrid,{children:[status==='loading'&&/*#__PURE__*/_jsx(Loader,{}),status==='succeed'&&filteredUsers.map(function(item){return/*#__PURE__*/_jsx(UserItem,_objectSpread({},item),item.memberId);})]})}),/*#__PURE__*/_jsx(Pagination,{postsPerPage:postsPerPage,totalPosts:users.length,onPaginate:onPaginate,currentPage:currentPage,setCurrentPage:setCurrentPage})]})]});}export default Users;","map":{"version":3,"names":["React","useState","useEffect","useMemo","useSelector","useDispatch","styled","SideBar","SearchBar","UserItem","Pagination","Loader","fetchAllUser","fetchDeleteAllUser","useNavigate","jsx","_jsx","jsxs","_jsxs","Container","div","_templateObject","_taggedTemplateLiteral","Content","_templateObject2","Headline","h1","_templateObject3","GridContainer","_templateObject4","UserGrid","_templateObject5","DeleteBtn","_templateObject6","Users","_useSelector","state","alluser","status","users","admin","user","data","_useState","_useState2","_slicedToArray","currentPage","setCurrentPage","_useState3","_useState4","postsPerPage","setPostsPerPage","_useState5","_useState6","searchText","setSearchText","dispatch","navigate","indexOfLastPost","indexOfFirstPost","currentPosts","slice","filteredUsers","trim","filter","name","toLowerCase","includes","handleSearch","onPaginate","pageNum","children","onClick","localStorage","removeItem","map","item","_objectSpread","memberId","totalPosts","length"],"sources":["/Users/jiinpark/seb44_pre_006/client/src/page/Users.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport styled from 'styled-components';\nimport SideBar from '../component/SideBar';\nimport SearchBar from '../component/user/users/SearchBar';\nimport UserItem from '../component/user/users/UserItem';\nimport Pagination from '../ui/Pagination';\nimport Loader from '../ui/Loader';\nimport { fetchAllUser } from '../api/getAllUser';\nimport {fetchDeleteAllUser} from '../api/AllUserDelete'\nimport { useNavigate } from 'react-router-dom';\n\nconst Container = styled.div`\n  max-width: 1264px;\n  width: 80%;\n  display: flex;\n  justify-content: center;\n`;\n\nconst Content = styled.div`\n  width: 100%;\n  padding: 24px 16px;\n`;\n\nconst Headline = styled.h1`\n  margin: 0 0 1.5rem;\n  font-size: 1.7rem;\n`;\n\nconst GridContainer = styled.div`\n  max-width: 1264px;\n  width: 100%;\n  text-align: left;\n`;\n\nconst UserGrid = styled.div`\n  width: 100%;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem 1rem;\n`;\n\nconst DeleteBtn = styled.div`\n   padding: 10px;\n   width: 120px;\n   height: 40px;\n  margin-left: 20px;\n  color: var(--white);\n  border-radius: 5px;\n  background-color: var(--red-600);\n  &:hover{\n    background-color: var(--red-300);\n  }\n`\n\nfunction Users() {\n  const { status, users } = useSelector((state) => state.alluser);\n  const admin = useSelector(state => state.user.data.admin)\n  const [currentPage, setCurrentPage] = useState(1);\n  const [postsPerPage, setPostsPerPage] = useState(10);\n  const [searchText, setSearchText] = useState('');\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    dispatch(fetchAllUser({ currentPage, postsPerPage }));\n  }, [dispatch, currentPage, postsPerPage]);\n\n  const indexOfLastPost = useMemo(\n    () => currentPage * postsPerPage,\n    [currentPage, postsPerPage]\n  );\n  const indexOfFirstPost = useMemo(\n    () => indexOfLastPost - postsPerPage,\n    [indexOfLastPost, postsPerPage]\n  );\n\n  const currentPosts = useMemo(\n    () => users.slice(indexOfFirstPost, indexOfLastPost),\n    [users, indexOfFirstPost, indexOfLastPost]\n  );\n\n  const filteredUsers = useMemo(() => {\n    if (searchText.trim() === '') {\n      return currentPosts;\n    }\n    return currentPosts.filter((user) =>\n      user.name.toLowerCase().includes(searchText.toLowerCase())\n    );\n  }, [searchText, currentPosts]);\n\n  const handleSearch = (searchText) => {\n    setSearchText(searchText);\n    setCurrentPage(1);\n  };\n\n  const onPaginate = (pageNum) => setCurrentPage(pageNum);\n\n  \n  \n  return (\n    <Container>\n      <SideBar />\n      <Content>\n        <Headline>Users</Headline>\n        <SearchBar\n          handleSearch={handleSearch}\n          searchText={searchText}\n          setSearchText={setSearchText}\n        >\n          searchBar\n        </SearchBar>\n        {admin\n        ?(\n          <DeleteBtn onClick={() => {\n            dispatch(fetchDeleteAllUser())\n            localStorage.removeItem('jwtToken');\n            localStorage.removeItem('refreshToken');\n            localStorage.removeItem('memberId');\n            navigate('/')\n            }}>User All Delete</DeleteBtn>\n        )\n        : null}\n\n        <GridContainer>\n          <UserGrid>\n            {status === 'loading' && <Loader />}\n            {status === 'succeed' &&\n              filteredUsers.map((item) => (\n                <UserItem key={item.memberId} {...item} />\n              ))}\n          </UserGrid>\n        </GridContainer>\n        <Pagination\n          postsPerPage={postsPerPage}\n          totalPosts={users.length}\n          onPaginate={onPaginate}\n          currentPage={currentPage}\n          setCurrentPage={setCurrentPage}\n        />\n      </Content>\n    </Container>\n  );\n}\n\nexport default Users;\n"],"mappings":"seAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,OAAO,KAAQ,OAAO,CAC3D,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,OAAO,KAAM,sBAAsB,CAC1C,MAAO,CAAAC,SAAS,KAAM,mCAAmC,CACzD,MAAO,CAAAC,QAAQ,KAAM,kCAAkC,CACvD,MAAO,CAAAC,UAAU,KAAM,kBAAkB,CACzC,MAAO,CAAAC,MAAM,KAAM,cAAc,CACjC,OAASC,YAAY,KAAQ,mBAAmB,CAChD,OAAQC,kBAAkB,KAAO,sBAAsB,CACvD,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,GAAM,CAAAC,SAAS,CAAGb,MAAM,CAACc,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,6FAK3B,CAED,GAAM,CAAAC,OAAO,CAAGjB,MAAM,CAACc,GAAG,CAAAI,gBAAA,GAAAA,gBAAA,CAAAF,sBAAA,iDAGzB,CAED,GAAM,CAAAG,QAAQ,CAAGnB,MAAM,CAACoB,EAAE,CAAAC,gBAAA,GAAAA,gBAAA,CAAAL,sBAAA,uDAGzB,CAED,GAAM,CAAAM,aAAa,CAAGtB,MAAM,CAACc,GAAG,CAAAS,gBAAA,GAAAA,gBAAA,CAAAP,sBAAA,qEAI/B,CAED,GAAM,CAAAQ,QAAQ,CAAGxB,MAAM,CAACc,GAAG,CAAAW,gBAAA,GAAAA,gBAAA,CAAAT,sBAAA,+HAK1B,CAED,GAAM,CAAAU,SAAS,CAAG1B,MAAM,CAACc,GAAG,CAAAa,gBAAA,GAAAA,gBAAA,CAAAX,sBAAA,mOAW3B,CAED,QAAS,CAAAY,KAAKA,CAAA,CAAG,CACf,IAAAC,YAAA,CAA0B/B,WAAW,CAAC,SAACgC,KAAK,QAAK,CAAAA,KAAK,CAACC,OAAO,GAAC,CAAvDC,MAAM,CAAAH,YAAA,CAANG,MAAM,CAAEC,KAAK,CAAAJ,YAAA,CAALI,KAAK,CACrB,GAAM,CAAAC,KAAK,CAAGpC,WAAW,CAAC,SAAAgC,KAAK,QAAI,CAAAA,KAAK,CAACK,IAAI,CAACC,IAAI,CAACF,KAAK,GAAC,CACzD,IAAAG,SAAA,CAAsC1C,QAAQ,CAAC,CAAC,CAAC,CAAA2C,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAClC,IAAAI,UAAA,CAAwC/C,QAAQ,CAAC,EAAE,CAAC,CAAAgD,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA7CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IACpC,IAAAG,UAAA,CAAoCnD,QAAQ,CAAC,EAAE,CAAC,CAAAoD,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAzCE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAChC,GAAM,CAAAG,QAAQ,CAAGnD,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAoD,QAAQ,CAAG3C,WAAW,CAAC,CAAC,CAE9BZ,SAAS,CAAC,UAAM,CACdsD,QAAQ,CAAC5C,YAAY,CAAC,CAAEkC,WAAW,CAAXA,WAAW,CAAEI,YAAY,CAAZA,YAAa,CAAC,CAAC,CAAC,CACvD,CAAC,CAAE,CAACM,QAAQ,CAAEV,WAAW,CAAEI,YAAY,CAAC,CAAC,CAEzC,GAAM,CAAAQ,eAAe,CAAGvD,OAAO,CAC7B,iBAAM,CAAA2C,WAAW,CAAGI,YAAY,GAChC,CAACJ,WAAW,CAAEI,YAAY,CAC5B,CAAC,CACD,GAAM,CAAAS,gBAAgB,CAAGxD,OAAO,CAC9B,iBAAM,CAAAuD,eAAe,CAAGR,YAAY,GACpC,CAACQ,eAAe,CAAER,YAAY,CAChC,CAAC,CAED,GAAM,CAAAU,YAAY,CAAGzD,OAAO,CAC1B,iBAAM,CAAAoC,KAAK,CAACsB,KAAK,CAACF,gBAAgB,CAAED,eAAe,CAAC,GACpD,CAACnB,KAAK,CAAEoB,gBAAgB,CAAED,eAAe,CAC3C,CAAC,CAED,GAAM,CAAAI,aAAa,CAAG3D,OAAO,CAAC,UAAM,CAClC,GAAImD,UAAU,CAACS,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CAC5B,MAAO,CAAAH,YAAY,CACrB,CACA,MAAO,CAAAA,YAAY,CAACI,MAAM,CAAC,SAACvB,IAAI,QAC9B,CAAAA,IAAI,CAACwB,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACb,UAAU,CAACY,WAAW,CAAC,CAAC,CAAC,EAC5D,CAAC,CACH,CAAC,CAAE,CAACZ,UAAU,CAAEM,YAAY,CAAC,CAAC,CAE9B,GAAM,CAAAQ,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAId,UAAU,CAAK,CACnCC,aAAa,CAACD,UAAU,CAAC,CACzBP,cAAc,CAAC,CAAC,CAAC,CACnB,CAAC,CAED,GAAM,CAAAsB,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,OAAO,QAAK,CAAAvB,cAAc,CAACuB,OAAO,CAAC,GAIvD,mBACEpD,KAAA,CAACC,SAAS,EAAAoD,QAAA,eACRvD,IAAA,CAACT,OAAO,GAAE,CAAC,cACXW,KAAA,CAACK,OAAO,EAAAgD,QAAA,eACNvD,IAAA,CAACS,QAAQ,EAAA8C,QAAA,CAAC,OAAK,CAAU,CAAC,cAC1BvD,IAAA,CAACR,SAAS,EACR4D,YAAY,CAAEA,YAAa,CAC3Bd,UAAU,CAAEA,UAAW,CACvBC,aAAa,CAAEA,aAAc,CAAAgB,QAAA,CAC9B,WAED,CAAW,CAAC,CACX/B,KAAK,cAEJxB,IAAA,CAACgB,SAAS,EAACwC,OAAO,CAAE,SAAAA,QAAA,CAAM,CACxBhB,QAAQ,CAAC3C,kBAAkB,CAAC,CAAC,CAAC,CAC9B4D,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC,CACnCD,YAAY,CAACC,UAAU,CAAC,cAAc,CAAC,CACvCD,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC,CACnCjB,QAAQ,CAAC,GAAG,CAAC,CACb,CAAE,CAAAc,QAAA,CAAC,iBAAe,CAAW,CAAC,CAEhC,IAAI,cAENvD,IAAA,CAACY,aAAa,EAAA2C,QAAA,cACZrD,KAAA,CAACY,QAAQ,EAAAyC,QAAA,EACNjC,MAAM,GAAK,SAAS,eAAItB,IAAA,CAACL,MAAM,GAAE,CAAC,CAClC2B,MAAM,GAAK,SAAS,EACnBwB,aAAa,CAACa,GAAG,CAAC,SAACC,IAAI,qBACrB5D,IAAA,CAACP,QAAQ,CAAAoE,aAAA,IAAyBD,IAAI,EAAvBA,IAAI,CAACE,QAAqB,CAAC,EAC3C,CAAC,EACI,CAAC,CACE,CAAC,cAChB9D,IAAA,CAACN,UAAU,EACTwC,YAAY,CAAEA,YAAa,CAC3B6B,UAAU,CAAExC,KAAK,CAACyC,MAAO,CACzBX,UAAU,CAAEA,UAAW,CACvBvB,WAAW,CAAEA,WAAY,CACzBC,cAAc,CAAEA,cAAe,CAChC,CAAC,EACK,CAAC,EACD,CAAC,CAEhB,CAEA,cAAe,CAAAb,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}